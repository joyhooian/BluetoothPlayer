(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"07ab":function(e,i,t){"use strict";t.r(i);var n=t("8f05"),o=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(i,e,(function(){return n[e]}))}(a);i["default"]=o.a},"0bf8":function(e,i,t){"use strict";var n;t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return n}));var o=function(){var e=this,i=e.$createElement,t=(e._self._c,e.__map(e.musicInfo,(function(i,t){var n=e.__get_orig(i),o=i.name.length>12?i.name.substr(0,12):null;return{$orig:n,g0:o}})));e.$mp.data=Object.assign({},{$root:{l0:t}})},a=[]},2786:function(e,i,t){"use strict";t.r(i);var n=t("340f"),o=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(i,e,(function(){return n[e]}))}(a);i["default"]=o.a},"2a1d":function(e,i,t){},"2d23":function(e,i,t){"use strict";t.r(i);var n=t("beb6"),o=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(i,e,(function(){return n[e]}))}(a);i["default"]=o.a},"340f":function(e,i,t){"use strict";(function(e){var t;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"alarms",data:function(){return{devices:[],primaryServiceUUID:"",readUUID:"",writeUUID:"",uploadLoading:!1,CustomBar:this.CustomBar,alarmsInfo:[],alarmShow:{},timeAfterInfo:{},weekdaysString:[{index:0,string:"周一"},{index:1,string:"周二"},{index:2,string:"周三"},{index:3,string:"周四"},{index:4,string:"周五"},{index:5,string:"周六"},{index:6,string:"周日"}],fileList:[],selectedFile:null,currentAlarmIndex:null,isShowFileModal:!1}},methods:{Navigate:function(i){"set-time"===i.currentTarget.id?e.navigateTo({url:"/pages/alarms/set-time"}):"time-after"===i.currentTarget.id&&e.navigateTo({url:"/pages/alarms/time-after"})},uploadData:function(){var e=this;if(!this.uploadLoading)if(this.uploadLoading=!0,console.log(this.alarmShow),this.alarmShow.isSetTime){console.log("上传时间设定");var i=new Array;this.alarmsInfo.forEach((function(e,t){if(e.isUsing){var n=new Array;n.push(126),n.push(10+e.weekdays.length),n.push(19),n.push(t+1),n.push(Number(e.startTime.substr(0,2))),n.push(Number(e.startTime.substr(3,2))),n.push(Number(e.stopTime.substr(0,2))),n.push(Number(e.stopTime.substr(3,2))),n.push(e.volume),n.push(e.relayStatus?1:0),e.weekdays.forEach((function(e){n.push(e+1)})),n.push(e.selectedFile?e.selectedFile:0),n.push(239);var o=new Uint8Array(n);i.push(o.buffer)}})),0==i.length?(wx.showToast({title:"请启用要设置的任务!",icon:"none"}),this.uploadLoading=!1):""!=this.primaryServiceUUID&&""!=this.writeUUID?(console.log("发送消息至: Service "+this.primaryServiceUUID+" Write "+this.writeUUID),i.forEach((function(i,t){setTimeout((function(){wx.writeBLECharacteristicValue({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.writeUUID,value:i,success:function(e){console.log("发送成功"),console.log(i)},fail:function(e){console.log("发送失败")}})}),200*t)})),setTimeout((function(){var i=new Uint8Array([126,2,85,239]);wx.writeBLECharacteristicValue({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.writeUUID,value:i.buffer,success:function(e){console.log("发送成功"),console.log(i.buffer)},fail:function(e){console.log("发送失败")},complete:function(){e.uploadLoading=!1}})}),200*i.length)):(console.log(i),wx.showToast({title:"请连接设备！",icon:"none"}),this.uploadLoading=!1)}else if(this.alarmShow.isTimeAfter){console.log("上传间隔时间");var t=new Array;t.push(126),t.push(7),t.push(24),t.push((65280&this.timeAfterInfo.secAfter)>>8),t.push(255&this.timeAfterInfo.secAfter),t.push(this.timeAfterInfo.volume),t.push(this.timeAfterInfo.relayStatus?1:0),t.push(this.timeAfterInfo.selectedFile?this.timeAfterInfo.selectedFile:0),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(e){console.log("发送成功"),console.log(n.buffer)},fail:function(e){console.log("发送失败")}})}},ChagngUsing:function(e){this.alarmsInfo[e.currentTarget.id].isUsing=e.detail.value},Edit:function(i){e.navigateTo({url:"/pages/alarms/set-time?index="+i.currentTarget.id})},Download:function(){var i=this;this.primaryServiceUUID?(wx.notifyBLECharacteristicValueChange({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.readUUID,state:!0,success:function(){console.log("打开监听成功")},fail:function(){console.log("打开监听失败")}}),wx.onBLECharacteristicValueChange((function(t){var n=new Uint8Array(t.value);console.log(n);for(var o=[126,4,32],a=0;a<n.length;a++)for(var r=0;r<3;r++)if(n[a+r]==o[r]&&2==r){i.fileList=[];for(var s=n[a+r+1]<<8|n[a+r+2],c=1;c<=s;c++)i.fileList.push(c);console.log("成功读取"+s+"个文件"),e.showToast({title:"成功读取"+s+"个文件",icon:"none"})}setTimeout((function(){0==i.fileList.length&&e.showToast({title:"没有读取到文件",icon:"none"})}),500)})),setTimeout((function(){var t=new Array;t.push(126),t.push(2),t.push(25),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:i.devices[0].deviceId,serviceId:i.primaryServiceUUID,characteristicId:i.writeUUID,value:n.buffer,success:function(i){console.log("发送成功"),console.log(n.buffer),e.showToast({title:"发送成功",icon:"none"})},fail:function(){console.log("发送失败"),e.showToast({title:"发送失败",icon:"none"})}})}),100)):e.showToast({title:"请先连接设备",icon:"none"})},ShowFileModal:function(e){this.currentAlarmIndex=Number(e.currentTarget.id),0==this.fileList.length&&this.Download(),this.isShowFileModal=!0},hideFileModal:function(){this.isShowFileModal=!1,this.currentAlarmIndex=null},FileChange:function(e){this.alarmShow.isSetTime?this.alarmsInfo[this.currentAlarmIndex].selectedFile=e.detail.value:this.timeAfterInfo.selectedFile=e.detail.value},UpdateFile:function(){this.fileList=[],this.Download()}},beforeCreate:function(){},created:function(){t=this,t.alarmsInfo=getApp().globalData.alarmsInfo,t.devices=getApp().globalData.devices,t.primaryServiceUUID=getApp().globalData.primaryServiceUUID,t.readUUID=getApp().globalData.readUUID,t.writeUUID=getApp().globalData.writeUUID,t.alarmShow=getApp().globalData.alarmShow,t.timeAfterInfo=getApp().globalData.timeAfterInfo},mounted:function(){console.log("定时页面")}};i.default=n}).call(this,t("543d")["default"])},6878:function(e,i,t){"use strict";t.r(i);var n=t("8300"),o=t("07ab");for(var a in o)"default"!==a&&function(e){t.d(i,e,(function(){return o[e]}))}(a);t("f1f5");var r,s=t("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);i["default"]=c.exports},7798:function(e,i,t){"use strict";t.r(i);var n=t("2d23");for(var o in n)"default"!==o&&function(e){t.d(i,e,(function(){return n[e]}))}(o);t("c3d8");var a,r,s,c,l=t("f0c5"),u=Object(l["a"])(n["default"],a,r,!1,null,null,null,!1,s,c);i["default"]=u.exports},"7bcd":function(e,i,t){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={name:"load",data:function(){return{devices:[],primaryServiceUUID:"",readUUID:"",writeUUID:"",currentVolume:100,isShowVolume:!1,loading:!0,StatusBar:this.StatusBar,CustomBar:this.CustomBar,tempFile:[],musicInfo:[],innerAudioContext:null,curMusic:null,isMultiSelect:!1,isSelectedAll:!1,musicSelected:[],playModeIndex:0,playMode:["cuIcon-musicfill","cuIcon-refresh","cuIcon-order"],isPlaying:!1,remain:0,remainSec:0,remainMin:0,remainHour:0,remainString:"",ready4Play:!1}},computed:{playDisabled:function(){return 0==n.musicInfo.length}},methods:{ChangeVolume:function(e){null!=n.innerAudioContext.volume&&(n.innerAudioContext.volume=e.detail.value/100)},ShowVolume:function(){n.isShowVolume=!0},HideVolume:function(){n.isShowVolume=!1},MultiSelectStart:function(){n.isMultiSelect=!0},SelectAll:function(){n.musicInfo.forEach((function(e,i){e.isSelect=!0})),n.isSelectedAll=!0},SelectNothing:function(){n.musicInfo.forEach((function(e,i){e.isSelect=!1})),n.isSelectedAll=!1},MultiSelectCancel:function(){n.isMultiSelect=!1,n.SelectNothing()},deleteMusic:function(){for(var e=0;;)if(n.musicInfo[e].isSelect?n.musicInfo.splice(e,1):e++,null==n.musicInfo[e])break;0==n.musicInfo.length&&(n.isMultiSelect=!1)},MusicSelect:function(e){n.isMultiSelect?n.musicInfo[e.currentTarget.id].isSelect=!n.musicInfo[e.currentTarget.id].isSelect:(n.curMusic=e.currentTarget.id,getApp().globalData.curMusic=e.currentTarget.id,n.isPlaying&&(n.innerAudioContext.src=n.musicInfo[n.curMusic].path),n.clearRemain())},LastMusic:function(){var e=n.musicInfo.length;n.curMusic--,getApp().globalData.curMusic--,n.curMusic<0&&(n.curMusic=e-1,getApp().globalData.curMusic=e-1),n.isPlaying&&(n.innerAudioContext.src=n.musicInfo[n.curMusic].path,n.clearRemain())},NextMusic:function(){var e=n.musicInfo.length;n.curMusic++,getApp().globalData.curMusic++,n.curMusic>=e&&(n.curMusic,getApp().globalData.curMusic=0),n.isPlaying&&(n.innerAudioContext.src=n.musicInfo[n.curMusic].path,n.clearRemain())},ChangePlayMode:function(){switch(n.playModeIndex++,n.playModeIndex>=3&&(n.playModeIndex=0),n.playModeIndex){case 0:wx.showToast({title:"单次播放模式",icon:"none"});break;case 1:wx.showToast({title:"单曲循环模式",icon:"none"});break;case 2:wx.showToast({title:"全部循环模式",icon:"none"})}},PlayPause:function(){var e=this;if(null!=n.musicInfo[n.curMusic])if(n.isPlaying=!n.isPlaying,getApp().globalData.isPlaying=n.isPlaying,n.isPlaying)0!=this.devices.length&&(setTimeout((function(){wx.offBLECharacteristicValueChange(),wx.notifyBLECharacteristicValueChange({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.readUUID,state:!1})}),2e3),wx.notifyBLECharacteristicValueChange({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.readUUID,state:!0,success:function(e){wx.showToast({title:"打开监听Notify成功",icon:"none"})},fail:function(e){wx.showToast({title:"打开监听Nofity失败",icon:"none"})}}),wx.onBLECharacteristicValueChange((function(e){var i=new Uint8Array(e.value),t=[126,3,98,0,239];console.log("收到监听数据"),console.log(i);for(var o=0;o<i.length;o++)for(var a=0;a<5;a++){if(i[o+a]!=t[a])break;4==a&&(n.innerAudioContext.stop(),n.isPlaying=!1,getApp().globalData.isPlaying=!1,wx.setKeepScreenOn({keepScreenOn:!1}),n.clearRemain(),wx.showToast({title:"更换失败",icon:"none"}))}})),setTimeout((function(){var i=new Array;i.push(126),i.push(2),i.push(51),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.writeUUID,value:t.buffer,success:function(){console.log("发送成功"),console.log(t.buffer)},fail:function(){console.log("发送失败")}})}),100)),n.innerAudioContext.src=n.musicInfo[n.curMusic].path,n.innerAudioContext.autoplay=!0,n.innerAudioContext.onCanplay((function(){n.innerAudioContext.duration,setTimeout((function(){n.musicInfo[n.curMusic].duration=n.innerAudioContext.duration,n.culculateRemain()}),10)})),setTimeout((function(){n.innerAudioContext.play(),wx.setKeepScreenOn({keepScreenOn:!0})}),500),n.innerAudioContext.onEnded((function(){if(n.clearRemain(),0==n.playModeIndex){n.isPlaying=!1,getApp().globalData.isPlaying=!1,wx.setKeepScreenOn({keepScreenOn:!1});var i=new Array;i.push(126),i.push(2),i.push(52),i.push(239);var t=new Uint8Array(i);setTimeout((function(){wx.writeBLECharacteristicValue({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.writeUUID,value:t.buffer,success:function(){console.log("发送成功"),console.log(t.buffer)},fail:function(){console.log("发送失败")}})}),1e3)}else 1==n.playModeIndex||(n.curMusic++,n.curMusic>n.musicInfo.length&&(n.curMusic=0),n.innerAudioContext.src=n.musicInfo[n.curMusic].path),n.innerAudioContext.play()})),n.innerAudioContext.onTimeUpdate((function(){n.culculateRemain()}));else{n.clearRemain(),n.innerAudioContext.stop();var i=new Array;i.push(126),i.push(2),i.push(52),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(){console.log("发送成功"),console.log(t.buffer)},fail:function(){console.log("发送失败")}})}else wx.showToast({title:"请先导入音乐",icon:"none"})},culculateRemain:function(){n.remain=parseInt(n.innerAudioContext.duration-n.innerAudioContext.currentTime),n.remainSec=n.remain%60,n.remainMin=parseInt(n.remain/60),n.remainHour=parseInt(n.remain/3600),n.formatTime()},clearRemain:function(){n.remain=0,n.remainSec=0,n.remainMin=0,n.remainHour=0,n.formatTime()},formatTime:function(){n.remainString="",n.remainHour<10&&(n.remainString+="0"),n.remainString+=n.remainHour.toString()+":",n.remainMin<10&&(n.remainString+="0"),n.remainString+=n.remainMin.toString()+":",n.remainSec<10&&(n.remainString+="0"),n.remainString+=n.remainSec.toString()},importMusic:function(){wx.chooseMessageFile({count:10,type:"file",extension:["mp3","wma","flac","aac"],success:function(e){e.tempFiles.forEach((function(e){n.musicInfo.push({name:e.name,duration:null,path:e.path,isSelect:!1,currentTime:0})}))}})}},beforeCreate:function(){console.log("进入播放页面")},created:function(){n=this,n.tempFile=getApp().globalData.tempFile,n.musicInfo=getApp().globalData.musicInfo,n.innerAudioContext=getApp().globalData.innerAudioContext,n.curMusic=getApp().globalData.curMusic,n.isPlaying=getApp().globalData.isPlaying,this.devices=getApp().globalData.devices,this.primaryServiceUUID=getApp().globalData.primaryServiceUUID,this.readUUID=getApp().globalData.readUUID,this.writeUUID=getApp().globalData.writeUUID},mounted:function(){var e=this;if(0!=this.devices.length){wx.notifyBLECharacteristicValueChange({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.readUUID,state:!0,success:function(e){wx.showToast({title:"打开监听Notify成功",icon:"none"})},fail:function(e){wx.showToast({title:"打开监听Nofity失败",icon:"none"})}}),wx.onBLECharacteristicValueChange((function(i){wx.offBLECharacteristicValueChange();var t=new Uint8Array(i.value);console.log(t);for(var n=[126,2,51,239],o=0;o<t.length;o++)for(var a=0;a<4;a++){if(t[o+a]!=n[a])break;3==a&&(e.ready4Play=!0,wx.notifyBLECharacteristicValueChange({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.readUUID,state:!1}))}}));var i=new Array;i.push(126),i.push(2),i.push(50),i.push(239);var t=new Uint8Array(i);setTimeout((function(){wx.writeBLECharacteristicValue({deviceId:e.devices[0].deviceId,serviceId:e.primaryServiceUUID,characteristicId:e.writeUUID,value:t.buffer,success:function(e){console.log("发送成功"),console.log(t.buffer)},fail:function(){console.log("发送失败"),console.log(t.buffer)}})}),100)}else this.ready4Play=!0}};i.default=o},"7ca3":function(e,i,t){},"7cd1":function(e,i,t){},8300:function(e,i,t){"use strict";var n;t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return n}));var o=function(){var e=this,i=e.$createElement;e._self._c},a=[]},"883c":function(e,i,t){},"8d38":function(e,i,t){"use strict";(function(e){t("29ac");var i=s(t("66fd")),n=s(t("7798")),o=s(t("bc19")),a=s(t("f2de")),r=s(t("6878"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?c(Object(t),!0).forEach((function(i){u(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}function u(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var f=function(){t.e("pages/links/links").then(function(){return resolve(t("0372"))}.bind(null,t)).catch(t.oe)};i.default.component("links",f),i.default.component("alarms",o.default),i.default.component("load",a.default),i.default.component("setting",r.default);var d=function(){t.e("colorui/components/cu-custom").then(function(){return resolve(t("8978"))}.bind(null,t)).catch(t.oe)};i.default.component("cu-custom",d),i.default.config.productionTip=!1,n.default.mpType="app";var h=new i.default(l({},n.default));e(h).$mount()}).call(this,t("543d")["createApp"])},"8f05":function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t={name:"setting",data:function(){return{devices:[],primaryServiceUUID:"",readUUID:"",writeUUID:"",isSettingLight:!1,isDownloading:!1,isSelected:null,fileList:[],lightMode:"MODE01",valueListen:"",isMuted:!1,isSingle:!1,isAll:!1,isPlayWhenBoot:!1,isTimingCancel:!1}},methods:{LightBack:function(){this.isSettingLight=!1},ChangeLightMode:function(e){this.lightMode=e.detail.value,console.log(this.lightMode)},DownLoadData:function(){var i=this;console.log("下载文件"),e.showToast({title:"请稍后...",icon:"loading",duration:1e3,mask:!0}),this.isDownloading||0==this.devices.length||(this.isDownloading=!0,wx.notifyBLECharacteristicValueChange({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.readUUID,state:!0,success:function(i){e.showToast({title:"打开监听Notify成功",icon:"none"})},fail:function(i){e.showToast({title:"打开监听Nofity失败",icon:"none"})}}),wx.onBLECharacteristicValueChange((function(t){wx.offBLECharacteristicValueChange();var n=new Uint8Array(t.value);console.log(n);for(var o=[126,4,32],a=0;a<n.length;a++)for(var r=0;r<3;r++){if(n[a+r]!=o[r])break;if(2==r){i.fileList=[];for(var s=n[a+r+1]<<8|n[a+r+2],c=1;c<=s;c++)i.fileList.push(c);e.showToast({title:"成功读取"+s+"个文件",icon:"none"})}}setTimeout((function(){0==i.fileList.length&&e.showToast({title:"读取失败, 请再试一次",icon:"none"})}),100),console.log("特征值 "+t.characteristicId+"已更新, 现在是"+i.valueListen)})),setTimeout((function(){var t=new Array;t.push(126),t.push(2),t.push(25),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:i.devices[0].deviceId,serviceId:i.primaryServiceUUID,characteristicId:i.writeUUID,value:n.buffer,success:function(i){console.log("发送成功"),console.log(n.buffer),e.showToast({title:"发送成功",icon:"none"})},fail:function(){console.log("发送失败"),e.showToast({title:"发送失败",icon:"none"})}})}),100),setTimeout((function(){i.isDownloading=!1,wx.notifyBLECharacteristicValueChange({deviceId:i.devices[0].deviceId,serviceId:i.primaryServiceUUID,characteristicId:i.readUUID,state:!1}),wx.offBLECharacteristicValueChange()}),500))},LightMode:function(){console.log("灯模式"),this.isSettingLight=!0},UploadLightMode:function(){if(console.log("更新灯模式"),e.showToast({title:"请稍后...",icon:"loading",duration:1e3,mask:!0}),this.isSettingLight=!1,this.devices.length){var i=new Array;i.push(126),i.push(3),i.push(23),i.push(Number(this.lightMode.substr(5,1))),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("发送数据成功"),console.log(t.buffer),e.showToast({title:"更新灯模式成功",icon:"none"})},fail:function(i){console.log("发送数据失败"),e.showToast({title:"更新灯模式失败",icon:"none"})}})}},Mute:function(){var i=this;if(e.showToast({title:"到点循环...",icon:"loading",duration:1e3,mask:!0}),this.isMuted){if(console.log("取消到点循环"),this.devices.length){var t=new Array;t.push(126),t.push(3),t.push(21),t.push(0),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("发送数据成功"),console.log(n.buffer),i.isMuted=!1,getApp().globalData.isMuted=i.isMuted,e.showToast({title:"到点循环成功",icon:"none"})},fail:function(i){console.log("发送数据失败"),e.showToast({title:"到点循环失败",icon:"none"})}})}}else if(console.log("到点循环"),this.devices.length){var o=new Array;o.push(126),o.push(3),o.push(21),o.push(1),o.push(239);var a=new Uint8Array(o);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:a.buffer,success:function(t){console.log("发送数据成功"),console.log(a.buffer),i.isMuted=!0,getApp().globalData.isMuted=i.isMuted,e.showToast({title:"到点循环成功",icon:"none"}),i.isMuted=!0,getApp().globalData.isMuted=i.isMuted},fail:function(i){console.log("发送数据失败"),e.showToast({title:"到点循环失败",icon:"none"})}})}},Single:function(){var i=this;if(console.log("单曲"),e.showToast({title:"单曲",icon:"loading",duration:1e3,mask:!0}),this.devices.length){var t=new Array;t.push(126),t.push(2),t.push(33),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("发送数据成功"),console.log(n.buffer),e.showToast({title:"设置单曲播放成功",icon:"none"}),i.isSingle=!0,i.isAll=!1,getApp().globalData.isSingle=i.isSingle,getApp().globalData.isAll=i.isAll},fail:function(i){console.log("发送数据失败"),e.showToast({title:"设置单曲播放失败",icon:"none"})}})}},All:function(){var i=this;if(e.showToast({title:"循环...",icon:"loading",duration:1e3,mask:!0}),console.log("循环"),this.devices.length){var t=new Array;t.push(126),t.push(2),t.push(22),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("发送数据成功"),console.log(n.buffer),e.showToast({title:"设置循环播放成功",icon:"none"}),i.isSingle=!1,i.isAll=!0,getApp().globalData.isSingle=i.isSingle,getApp().globalData.isAll=i.isAll},fail:function(i){console.log("发送数据失败"),e.showToast({title:"设置循坏播放失败",icon:"none"})}})}},Delete:function(){var i=this;if(console.log("删除"),e.showToast({title:"删除...",icon:"loading",duration:1e3,mask:!0}),this.devices.length&&this.isSelected){var t=new Array;t.push(126),t.push(3),t.push(20),t.push(this.isSelected),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("发送数据成功"),console.log(n.buffer),i.fileList.splice(i.isSelected-1,1),i.isSelected=null,e.hideToast(),e.showToast({title:"删除文件成功",icon:"none"})},fail:function(i){console.log("发送数据失败 "+i.errMsg),e.showToast({title:"删除文件失败",icon:"none"})}})}else console.log("未选择")},Select:function(e){this.isSelected=parseInt(e.currentTarget.id)+1,console.log("文件"+this.isSelected+"被选中")},Play:function(i){if(e.showToast({title:"试听...",icon:"loading",duration:1e3,mask:!0}),this.devices.length){var t=new Array;t.push(126),t.push(4),t.push(65),t.push((parseInt(i.currentTarget.id)+1&65280)>>8),t.push(parseInt(i.currentTarget.id)+1&255),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(i){console.log("成功发送试听命令"),console.log(n.buffer),e.showToast({title:"成功发送试听命令",icon:"none"})},fail:function(i){console.log("发送试听命令失败"),e.showToast({title:"发送试听命令失败",icon:"none"})}})}},PlayWhenBoot:function(){var i=this;if(e.showToast({title:"上电播放...",icon:"loading",duration:1e3,mask:!0}),console.log("上电播放"),this.devices.length){var t=new Array;t.push(126),t.push(2),t.push(34),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("上电播放发送成功"),console.log(n.buffer),i.isPlayWhenBoot=!0,getApp().globalData.isPlayWhenBoot=i.isPlayWhenBoot,e.showToast({title:"上电播放发送成功",icon:"none"})},fail:function(i){console.log("上电播放发送失败"),e.showToast({title:"上电播放发送失败",icon:"none"})}})}},ShutdownBoot:function(){if(e.showToast({title:"开关机...",icon:"loading",duration:1e3,mask:!0}),console.log("开关机"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(130),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("开关机成功"),console.log(t.buffer),e.showToast({title:"开关机成功",icon:"none"})},fail:function(i){console.log("开关机失败"),e.showToast({title:"开关机失败",icon:"none"})}})}},TimingCancel:function(){var i=this;if(e.showToast({title:"定时...",icon:"loading",duration:1e3,mask:!0}),console.log("定时"),this.devices.length){var t=new Array;t.push(126),t.push(2),t.push(132),t.push(239);var n=new Uint8Array(t);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:n.buffer,success:function(t){console.log("定时成功"),console.log(n.buffer),i.isTimingCancel=!0,getApp().globalData.isTimingCancel=!0,e.showToast({title:"定时成功",icon:"none"})},fail:function(i){console.log("定时失败"),e.showToast({title:"定时失败",icon:"none"})}})}},Last:function(){if(e.showToast({title:"上一首...",icon:"loading",duration:1e3,mask:!0}),console.log("上一首"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(133),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("上一首发送成功"),console.log(t.buffer),e.showToast({title:"上一首发送成功",icon:"none"})},fail:function(i){console.log("上一首发送失败"),e.showToast({title:"上一首发送失败",icon:"none"})}})}},Next:function(){if(e.showToast({title:"下一首...",icon:"loading",duration:1e3,mask:!0}),console.log("下一首"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(134),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("下一首发送成功"),console.log(t.buffer),e.showToast({title:"下一首发送成功",icon:"none"})},fail:function(i){console.log("下一首发送失败"),e.showToast({title:"下一首发送失败",icon:"none"})}})}},Stop:function(){if(e.showToast({title:"停止...",icon:"loading",duration:1e3,mask:!0}),console.log("停止"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(131),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("停止发送成功"),console.log(t.buffer),e.showToast({title:"停止发送成功",icon:"none"})},fail:function(i){console.log("停止发送失败"),e.showToast({title:"停止发送失败",icon:"none"})}})}},VolumeIncrease:function(){if(e.showToast({title:"音量加...",icon:"loading",duration:1e3,mask:!0}),console.log("音量加"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(128),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("音量加发送成功"),console.log(t.buffer),e.showToast({title:"音量加发送成功",icon:"none"})},fail:function(i){console.log("音量加发送失败"),e.showToast({title:"音量加发送失败",icon:"none"})}})}},VolumeDecrease:function(){if(e.showToast({title:"音量减...",icon:"loading",duration:1e3,mask:!0}),console.log("音量减"),this.devices.length){var i=new Array;i.push(126),i.push(2),i.push(129),i.push(239);var t=new Uint8Array(i);wx.writeBLECharacteristicValue({deviceId:this.devices[0].deviceId,serviceId:this.primaryServiceUUID,characteristicId:this.writeUUID,value:t.buffer,success:function(i){console.log("音量减发送成功"),console.log(t.buffer),e.showToast({title:"音量减发送成功",icon:"none"})},fail:function(i){console.log("音量减发送失败"),e.showToast({title:"音量减发送失败",icon:"none"})}})}}},beforeCreate:function(){console.log("进入设置页面")},created:function(){this.devices=getApp().globalData.devices,this.primaryServiceUUID=getApp().globalData.primaryServiceUUID,this.readUUID=getApp().globalData.readUUID,this.writeUUID=getApp().globalData.writeUUID,this.isMuted=getApp().globalData.isMuted,this.isSingle=getApp().globalData.isSingle,this.isAll=getApp().globalData.isAll,this.isTimingCancel=getApp().globalData.isTimingCancel,this.isPlayWhenBoot=getApp().globalData.isPlayWhenBoot},mounted:function(){}};i.default=t}).call(this,t("543d")["default"])},"906f":function(e,i,t){"use strict";var n=t("7ca3"),o=t.n(n);o.a},a35a:function(e,i,t){"use strict";var n=t("2a1d"),o=t.n(n);o.a},bc19:function(e,i,t){"use strict";t.r(i);var n=t("e1e3"),o=t("2786");for(var a in o)"default"!==a&&function(e){t.d(i,e,(function(){return o[e]}))}(a);t("a35a");var r,s=t("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);i["default"]=c.exports},beb6:function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(t("66fd"));function o(e){return e&&e.__esModule?e:{default:e}}var a={globalData:{devices:[],primaryServiceUUID:"",readUUID:"",writeUUID:"",tempFile:[],musicInfo:[],alarmsInfo:[],timeAfterInfo:{volume:0,relayStatus:!1,secAfter:0},curMusic:0,innerAudioContext:null,isPlaying:!1,isMuted:!1,isSingle:!1,isAll:!1,isPlayWhenBoot:!1,isTimingCancel:!1,alarmShow:{isSetTime:!1,isTimeAfter:!1}},onLaunch:function(){wx.setKeepScreenOn({keepScreenOn:!0}),n.default.prototype.MessageToArrayBuffer=function(e){var i=e;i+="\r\n";for(var t=new Array,n=0;n<i.length;n++)t.push(i.substr(n,1).charCodeAt());var o=new Uint8Array(t);return o.buffer},n.default.prototype.ArrayBufferToMessage=function(e){var i=new Uint8Array(e),t=new Array(i.length);return i.forEach((function(e){t.push(String.fromCharCode(e))})),t.join("")},this.globalData.innerAudioContext=wx.createInnerAudioContext(),e.getSystemInfo({success:function(e){n.default.prototype.StatusBar=e.statusBarHeight;var i=wx.getMenuButtonBoundingClientRect();n.default.prototype.Custom=i,n.default.prototype.CustomBar=i.bottom+i.top-e.statusBarHeight,n.default.prototype.SafeArea=e.safeArea}}),n.default.prototype.ColorList=[{title:"嫣红",name:"red",color:"#e54d42"},{title:"桔橙",name:"orange",color:"#f37b1d"},{title:"明黄",name:"yellow",color:"#fbbd08"},{title:"橄榄",name:"olive",color:"#8dc63f"},{title:"森绿",name:"green",color:"#39b54a"},{title:"天青",name:"cyan",color:"#1cbbb4"},{title:"海蓝",name:"blue",color:"#0081ff"},{title:"姹紫",name:"purple",color:"#6739b6"},{title:"木槿",name:"mauve",color:"#9c26b0"},{title:"桃粉",name:"pink",color:"#e03997"},{title:"棕褐",name:"brown",color:"#a5673f"},{title:"玄灰",name:"grey",color:"#8799a3"},{title:"草灰",name:"gray",color:"#aaaaaa"},{title:"墨黑",name:"black",color:"#333333"},{title:"雅白",name:"white",color:"#ffffff"}]},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};i.default=a}).call(this,t("543d")["default"])},c3d8:function(e,i,t){"use strict";var n=t("883c"),o=t.n(n);o.a},ddd2:function(e,i,t){"use strict";t.r(i);var n=t("7bcd"),o=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(i,e,(function(){return n[e]}))}(a);i["default"]=o.a},e1e3:function(e,i,t){"use strict";var n;t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return n}));var o=function(){var e=this,i=e.$createElement;e._self._c},a=[]},f1f5:function(e,i,t){"use strict";var n=t("7cd1"),o=t.n(n);o.a},f2de:function(e,i,t){"use strict";t.r(i);var n=t("0bf8"),o=t("ddd2");for(var a in o)"default"!==a&&function(e){t.d(i,e,(function(){return o[e]}))}(a);t("906f");var r,s=t("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);i["default"]=c.exports}},[["8d38","common/runtime","common/vendor"]]]);