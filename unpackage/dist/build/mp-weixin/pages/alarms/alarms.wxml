<view><cu-custom vue-id="1f2a5240-1" bgColor="bg-gradual-red" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content">定时</view></cu-custom><view class="cu-bar bg-white radius-bottom shadow shadow-blur" style="{{'position:'+('fixed')+';'+('left:'+(0)+';')+('width:'+('100%')+';')+('top:'+(CustomBar+'px')+';')+('z-index:'+(1000)+';')}}"><view class="action flex-sub solids-right"><button class="cu-btn round lines-white" id="set-time" data-event-opts="{{[['tap',[['Navigate',['$event']]]]]}}" bindtap="__e"><text class="text-black text-lg">+定时播放</text></button></view><view class="action flex-sub"><button class="cu-btn round lines-white" id="time-after" data-event-opts="{{[['tap',[['Navigate',['$event']]]]]}}" bindtap="__e"><text class="text-black text-lg">+间隔播放</text></button></view></view><block wx:if="{{alarmShow.isSetTime}}"><view class="box" style="margin-bottom:260rpx;margin-top:120rpx;"><block wx:for="{{alarmsInfo}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cu-list menu card-menu margin-top sm-border"><view class="cu-item"><view class="content">{{"编号 "+(index+1)}}</view><view class="action"><button class="cu-btn radius bg-green" id="{{index}}" data-event-opts="{{[['tap',[['Edit',['$event']]]]]}}" bindtap="__e">编辑</button></view></view><view class="cu-item"><view class="content">时间</view><view class="action"><text>{{item.startTime+' - '+item.stopTime}}</text></view></view><view class="cu-item"><view class="content">重复</view><view class="action"><block wx:for="{{alarmsInfo[index].weekdays}}" wx:for-item="weekday" wx:for-index="weekdayNum" wx:key="weekdayNum"><view class="cu-tag light sm round bg-red">{{weekdaysString[weekday].string}}</view></block></view></view><view class="cu-item"><view class="content">{{'音量 '+item.volume}}</view><view class="action"><text>{{item.relayStatus?'继电器 开':'继电器 关'}}</text></view></view><view class="cu-item arrow" id="{{index}}" data-event-opts="{{[['tap',[['ShowFileModal',['$event']]]]]}}" bindtap="__e"><view class="content">音频</view><view class="action"><text>{{item.selectedFile==null?"请选择":item.selectedFile}}</text></view></view><view class="cu-item"><view class="content">是否启用</view><view class="action"><switch id="{{index}}" checked="{{item.isUsing}}" data-event-opts="{{[['change',[['ChagngUsing',['$event']]]]]}}" bindchange="__e"></switch></view></view></view></block></view></block><block wx:if="{{alarmShow.isTimeAfter}}"><view class="box" style="margin-bottom:260rpx;margin-top:120rpx;"><view class="cu-list menu card-menu margin-top sm-border"><view class="cu-item"><view class="content">间隔播放</view></view><view class="cu-item"><view class="content">{{"音量"+timeAfterInfo.volume}}</view><view class="action">{{timeAfterInfo.relayStatus?"继电器开":"继电器关"}}</view></view><view class="cu-item"><view class="content">间隔时间</view><view class="action">{{timeAfterInfo.secAfter+"S"}}</view></view><view class="cu-item arrow" id="{{0}}" data-event-opts="{{[['tap',[['ShowFileModal',['$event']]]]]}}" bindtap="__e"><view class="content">音频</view><view class="action"><text>{{timeAfterInfo.selectedFile==null?"请选择":timeAfterInfo.selectedFile}}</text></view></view></view></view></block><view class="{{['cu-modal',isShowFileModal?'show':'']}}"><view class="cu-dialog"><view class="cu-bar bg-white justify-end"><view class="content">选择音频</view></view><block wx:if="{{fileList.length>0}}"><radio-group data-event-opts="{{[['change',[['FileChange',['$event']]]]]}}" class="block" bindchange="__e"><view class="cu-list menu text-left"><block wx:for="{{fileList}}" wx:for-item="file" wx:for-index="__i0__" wx:key="*this"><view class="cu-item"><label class="flex justify-between align-center flex-sub"><view class="flex-sub">{{"音频 "+file}}</view><radio class="{{['round',alarmsInfo[currentAlarmIndex].selectedFile==file?'checked':'']}}" checked="{{alarmsInfo[currentAlarmIndex].selectedFile==file?true:false}}" value="{{file}}"></radio></label></view></block></view></radio-group></block><block wx:else><view class="margin padding">没有音频文件</view></block><view class="cu-bar bg-white justify-end"><view class="action"><button data-event-opts="{{[['tap',[['UpdateFile',['$event']]]]]}}" class="cu-btn bg-blue" bindtap="__e">同步文件</button><button data-event-opts="{{[['tap',[['hideFileModal',['$event']]]]]}}" class="cu-btn bg-green margin-left" bindtap="__e">确定</button></view></view></view></view><view class="bottomBox"><view class="flex justify-center"><button data-event-opts="{{[['tap',[['uploadData',['$event']]]]]}}" class="cu-btn bg-red shadow-blur round lg" style="width:240rpx;" bindtap="__e"><block wx:if="{{uploadLoading}}"><text class="cuIcon-loading1 cuIconfont-spin"></text></block><block wx:else><text class="text-sm">设置同步</text></block></button></view></view></view>