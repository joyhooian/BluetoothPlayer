(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/alarms/set-time"],{"26a8":function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{isEditing:!1,editingIndex:null,alarmsInfo:[],weekDays:[{name:"一",index:0,selected:!1},{name:"二",index:1,selected:!1},{name:"三",index:2,selected:!1},{name:"四",index:3,selected:!1},{name:"五",index:4,selected:!1},{name:"六",index:5,selected:!1},{name:"日",index:6,selected:!1}],volume:15,relayStatus:!1,startTime:"12:00",stopTime:"12:00"}},methods:{RelayChange:function(e){this.relayStatus=e.detail.value},ChangeStartTime:function(e){this.startTime=e.detail.value,this.startTime>this.stopTime&&(this.stopTime=this.startTime)},ChangeStopTime:function(e){this.stopTime=e.detail.value,this.stopTime<this.startTime&&(this.stopTime=this.startTime,wx.showToast({title:"结束时间不能早于开始时间!",icon:"none"}))},SelectWeekday:function(e){this.weekDays[e.currentTarget.id].selected=!this.weekDays[e.currentTarget.id].selected},changeVolume:function(e){this.volume=e.detail.value},upload:function(){var t=this,s=new Array;if(this.weekDays.forEach((function(e){e.selected&&s.push(e.index)})),0==s.length)wx.showToast({title:"未选择重复星期!",icon:"none"});else{if(this.isEditing)if(1==this.alarmsInfo.length)this.alarmsInfo[this.editingIndex].weekdays=s,this.alarmsInfo[this.editingIndex].volume=this.volume,this.alarmsInfo[this.editingIndex].relayStatus=this.relayStatus,this.alarmsInfo[this.editingIndex].startTime=this.startTime,this.alarmsInfo[this.editingIndex].stopTime=this.stopTime;else{var i;i=this.alarmsInfo[this.editingIndex].isUsing,this.alarmsInfo.splice(this.editingIndex,1);try{this.alarmsInfo.forEach((function(e,a){if(s[0]==e.weekdays[0]){if(t.startTime<=e.startTime)throw t.alarmsInfo.splice(a,0,{weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:i}),new Error("结束比较")}else{if(s[0]<e.weekdays[0])throw t.alarmsInfo.splice(a,0,{weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:i}),new Error("结束比较");a==t.alarmsInfo.length-1&&t.alarmsInfo.push({weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:i})}}))}catch(a){if("结束比较"!=a.message)throw a}}else if(0==this.alarmsInfo.length)this.alarmsInfo.push({weekdays:s,volume:this.volume,relayStatus:this.relayStatus,startTime:this.startTime,stopTime:this.stopTime,isUsing:!1});else try{this.alarmsInfo.forEach((function(e,i){if(s[0]==e.weekdays[0]){if(t.startTime<=e.startTime)throw t.alarmsInfo.splice(i,0,{weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:!1}),new Error("结束比较")}else{if(s[0]<e.weekdays[0])throw t.alarmsInfo.splice(i,0,{weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:!1}),new Error("结束比较");i==t.alarmsInfo.length-1&&t.alarmsInfo.push({weekdays:s,volume:t.volume,relayStatus:t.relayStatus,startTime:t.startTime,stopTime:t.stopTime,isUsing:!1})}}))}catch(a){if("结束比较"!=a.message)throw a}getApp().globalData.alarmShow.isSetTime=!0,getApp().globalData.alarmShow.isTimeAfter=!1,e.navigateBack({})}}},created:function(){this.alarmsInfo=getApp().globalData.alarmsInfo},onLoad:function(e){var t=this;e.index&&(this.isEditing=!0,this.editingIndex=parseInt(e.index),this.alarmsInfo[this.editingIndex].weekdays.forEach((function(e){t.weekDays[e].selected=!0})),this.volume=this.alarmsInfo[this.editingIndex].volume,this.relayStatus=this.alarmsInfo[this.editingIndex].relayStatus,this.startTime=this.alarmsInfo[this.editingIndex].startTime,this.stopTime=this.alarmsInfo[this.editingIndex].stopTime)}};t.default=s}).call(this,s("543d")["default"])},"3fe0":function(e,t,s){"use strict";(function(e){s("29ac");i(s("66fd"));var t=i(s("80ac"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},7830:function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"80ac":function(e,t,s){"use strict";s.r(t);var i=s("7830"),a=s("ffa4");for(var n in a)"default"!==n&&function(e){s.d(t,e,(function(){return a[e]}))}(n);var r,o=s("f0c5"),l=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=l.exports},ffa4:function(e,t,s){"use strict";s.r(t);var i=s("26a8"),a=s.n(i);for(var n in i)"default"!==n&&function(e){s.d(t,e,(function(){return i[e]}))}(n);t["default"]=a.a}},[["3fe0","common/runtime","common/vendor"]]]);